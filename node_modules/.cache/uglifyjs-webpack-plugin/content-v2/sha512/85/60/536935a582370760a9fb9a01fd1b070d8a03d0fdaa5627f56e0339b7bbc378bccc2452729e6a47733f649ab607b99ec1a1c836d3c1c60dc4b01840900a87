{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\node_modules\\\\ts-loader\\\\index.js!C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\node_modules\\\\source-map-loader\\\\index.js!C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\src\\\\ui\\\\consts.ts\",\"C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\node_modules\\\\ts-loader\\\\index.js!C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\node_modules\\\\source-map-loader\\\\index.js!C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\src\\\\ui\\\\serviceWorker.ts\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"DATA_DIR\",\"INDEX_JSON\",\"CACHE_NAME_ENGINE\",\"CACHE_NAME_IMAGES\",\"CACHE_NAME_MUSIC\",\"__awaiter\",\"this\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"Promise\",\"resolve\",\"reject\",\"fulfilled\",\"step\",\"next\",\"e\",\"rejected\",\"result\",\"done\",\"then\",\"apply\",\"__generator\",\"body\",\"f\",\"y\",\"g\",\"_\",\"label\",\"sent\",\"trys\",\"ops\",\"verb\",\"throw\",\"return\",\"iterator\",\"v\",\"op\",\"TypeError\",\"pop\",\"length\",\"push\",\"_this\",\"consts_1\",\"engineUrls\",\"concat\",\"serviceWorkerOption\",\"assets\",\"Date\",\"getTime\",\"getIndex\",\"fetch\",\"data\",\"json\",\"console\",\"info\",\"self\",\"addEventListener\",\"event\",\"waitUntil\",\"cache\",\"_i\",\"_a\",\"dir\",\"urlsToCache\",\"_b\",\"caches\",\"open\",\"quests\",\"files\",\"map\",\"x\",\"path\",\"totalSize\",\"addAll\",\"catch\",\"error\",\"log\",\"keys\",\"keys_1\",\"respondWith\",\"cacheHit\",\"headersRange\",\"pos\",\"arrayBuffer\",\"_c\",\"match\",\"request\",\"url\",\"headers\",\"parseInt\",\"Response\",\"slice\",\"status\",\"statusText\",\"byteLength\"],\"mappings\":\"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,EAAAA,EAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,QAAAA,OAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,GAAA,EAAAE,GAAA,iBAAAF,GAAAA,GAAAA,EAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,MAAAA,IACzC,EAAAE,GAAA,iBAAAF,EAAA,IAAA,IAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,GAAAA,EAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,EAAAA,EAAAmC,EAAA,uCCjFArB,OAAAC,eAAAb,EAAA,cAA8CmB,OAAA,IAC9CnB,EAAAkC,SAAA,QACAlC,EAAAmC,WAAAnC,EAAAkC,SAAA,aACAlC,EAAAoC,kBAAA,sBACApC,EAAAqC,kBAAA,sBACArC,EAAAsC,iBAAA,uDCLA,IAAAC,EAAAC,MAAAA,KAAAD,WAAA,SAAAE,EAAAC,EAAAC,EAAAC,GACA,OAAA,IAAAD,IAAAA,EAAAE,UAAA,SAAAC,EAAAC,GACA,SAAAC,EAAA7B,GAAmC,IAAM8B,EAAAL,EAAAM,KAAA/B,IAA+B,MAAAgC,GAAYJ,EAAAI,IACpF,SAAAC,EAAAjC,GAAkC,IAAM8B,EAAAL,EAAA,MAAAzB,IAAmC,MAAAgC,GAAYJ,EAAAI,IACvF,SAAAF,EAAAI,GAA+BA,EAAAC,KAAAR,EAAAO,EAAAlC,OAAA,IAAAwB,EAAA,SAAAG,GAAiEA,EAAAO,EAAAlC,SAAyBoC,KAAAP,EAAAI,GACzHH,GAAAL,EAAAA,EAAAY,MAAAf,EAAAC,QAAAQ,WAGAO,EAAAjB,MAAAA,KAAAiB,aAAA,SAAAhB,EAAAiB,GACA,IAAwGC,EAAAC,EAAAxC,EAAAyC,EAAxGC,GAAaC,MAAA,EAAAC,KAAA,WAA6B,GAAA,EAAA5C,EAAA,GAAA,MAAAA,EAAA,GAA0B,OAAAA,EAAA,IAAe6C,QAAAC,QACnF,OAAAL,GAAgBX,KAAAiB,EAAA,GAAAC,MAAAD,EAAA,GAAAE,OAAAF,EAAA,IAAqD,mBAAAlD,SAAA4C,EAAA5C,OAAAqD,UAAA,WAAoE,OAAA9B,OAAeqB,EACxJ,SAAAM,EAAAxC,GAAsB,OAAA,SAAA4C,GAAsB,OAC5C,SAAAC,GACA,GAAAb,EAAA,MAAA,IAAAc,UAAA,mCACA,KAAAX,GAAA,IACA,GAAAH,EAAA,EAAAC,IAAAxC,EAAA,EAAAoD,EAAA,GAAAZ,EAAA,OAAAY,EAAA,GAAAZ,EAAA,SAAAxC,EAAAwC,EAAA,SAAAxC,EAAAf,KAAAuD,GAAA,GAAAA,EAAAV,SAAA9B,EAAAA,EAAAf,KAAAuD,EAAAY,EAAA,KAAAlB,KAAA,OAAAlC,EAEA,OADAwC,EAAA,EAAAxC,IAAAoD,GAAA,EAAAA,EAAA,GAAApD,EAAAD,QACAqD,EAAA,IACA,KAAA,EAAA,KAAA,EAAApD,EAAAoD,EAAuC,MACvC,KAAA,EAAkC,OAAlCV,EAAAC,SAA2C5C,MAAAqD,EAAA,GAAAlB,MAAA,GAC3C,KAAA,EAAAQ,EAAAC,QAAkCH,EAAAY,EAAA,GAAWA,GAAA,GAAU,SACvD,KAAA,EAAAA,EAAAV,EAAAI,IAAAQ,MAAyCZ,EAAAG,KAAAS,MAAc,SACvD,QACA,KAAAtD,GAAAA,EAAA0C,EAAAG,MAAAU,OAAA,GAAAvD,EAAAA,EAAAuD,OAAA,MAAA,IAAAH,EAAA,IAAA,IAAAA,EAAA,IAAA,CAA6GV,EAAA,EAAO,SACpH,GAAA,IAAAU,EAAA,MAAApD,GAAAoD,EAAA,GAAApD,EAAA,IAAAoD,EAAA,GAAApD,EAAA,IAAA,CAAgF0C,EAAAC,MAAAS,EAAA,GAAiB,MACjG,GAAA,IAAAA,EAAA,IAAAV,EAAAC,MAAA3C,EAAA,GAAA,CAAwD0C,EAAAC,MAAA3C,EAAA,GAAgBA,EAAAoD,EAAQ,MAChF,GAAApD,GAAA0C,EAAAC,MAAA3C,EAAA,GAAA,CAA8C0C,EAAAC,MAAA3C,EAAA,GAAgB0C,EAAAI,IAAAU,KAAAJ,GAAgB,MAC9EpD,EAAA,IAAA0C,EAAAI,IAAAQ,MACAZ,EAAAG,KAAAS,MAAiC,SAEjCF,EAAAd,EAAArD,KAAAoC,EAAAqB,GACS,MAAAX,GAAYqB,GAAA,EAAArB,GAAaS,EAAA,EAAS,QAAUD,EAAAvC,EAAA,EACrD,GAAA,EAAAoD,EAAA,GAAA,MAAAA,EAAA,GAAmC,OAASrD,MAAAqD,EAAA,GAAAA,EAAA,QAAA,EAAAlB,MAAA,GArBAL,EAAAtB,EAAA4C,OAwB5CM,EAAArC,KACA5B,OAAAC,eAAAb,EAAA,cAA8CmB,OAAA,IAC9CrB,EAAA,KACA,IAAAgF,EAAAhF,EAAA,IACAiF,GACA,IACAD,EAAA3C,YACA6C,OAAAC,oBAAAC,QACA,aAAA,IAAAC,KAAA,4BAAAC,YAGA,SAAAC,IACA,OAAAC,MAAAR,EAAA3C,YAAAoB,KAAA,SAAAgC,GAA4D,OAAAA,EAAAC,SAF5DC,QAAAC,KAAA,+BAAAX,GAIAY,KAAAC,iBAAA,UAAA,SAAAC,GAEAJ,QAAAC,KAAA,IAAAP,KAAA,qCACAU,EAAAC,UAAkCvD,EAAAsC,OAAA,OAAA,EAAA,WAClC,IAAAkB,EAAAR,EAAAS,EAAAC,EAAAC,EAAAC,EACA,OAAA1C,EAAAjB,KAAA,SAAA4D,GACA,OAAAA,EAAArC,OACA,KAAA,EAAA,OAAA,EAAAsC,OAAAC,KAAAxB,EAAA1C,oBACA,KAAA,EAGA,OAFA2D,EAAAK,EAAApC,OACAyB,QAAAC,KAAA,IAAAP,KAAA,gCACA,EAAAE,KACA,KAAA,EACAE,EAAAa,EAAApC,OACAgC,EAAA,EAAAC,GAAAV,EAAAW,IAAAK,QACAH,EAAArC,MAAA,EACA,KAAA,EACA,OAAAiC,EAAAC,EAAAtB,QACAuB,EAAAD,EAAAD,GACAG,EAAApB,EAAAC,OAAAxB,MAAAuB,EAAAmB,EAAAM,MACAC,IAAA,SAAAC,GAA2C,OAAAA,EAAAC,OAE3CF,IAAA,SAAAC,GAA2C,OAAA5B,EAAA5C,SAAAwE,KAC3CjB,QAAAC,KAAA,IAAAP,KAAA,gCAAAe,EAAAU,YACA,EAAAb,EAAAc,OAAAV,MAPA,EAAA,GAQA,KAAA,EACAC,EAAApC,OACAoC,EAAArC,MAAA,EACA,KAAA,EAEA,OADAiC,KACA,EAAA,GACA,KAAA,EAQA,OADAP,QAAAC,KAAA,IAAAP,KAAA,mBACA,QAGS2B,MAAA,SAAA3D,GAET,MADAsC,QAAAsB,MAAA,IAAA5B,KAAA,eAAAhC,GACAA,OAGAwC,KAAAC,iBAAA,WAAA,SAAAC,GACAJ,QAAAuB,IAAA,IAAA7B,KAAA,qCACAU,EAAAC,UAAkCvD,EAAAsC,OAAA,OAAA,EAAA,WAClC,IAAAoC,EAAAjB,EAAAkB,EACA,OAAAzD,EAAAjB,KAAA,SAAAyD,GACA,OAAAA,EAAAlC,OACA,KAAA,EAAA,OAAA,EAAAsC,OAAAY,QACA,KAAA,EAIA,OAHAhB,EAAAjC,OAAAyC,IAAA,SAAAC,GACAjB,QAAAC,KAAA,kBAAAgB,MAEA,EAAAL,OAAAC,KAAAxB,EAAA1C,oBACA,KAAA,EAEA,OAAA,EADA6D,EAAAjC,OACAiD,QACA,KAAA,EAEA,OADAA,EAAAhB,EAAAjC,QACA,EAAAqB,KACA,KAAA,EAEA,IADAY,EAAAjC,OACAgC,EAAA,EAAAkB,EAAAD,EAA+CjB,EAAAkB,EAAAvC,OAAoBqB,IACnEkB,EAAAlB,GAUA,OADAP,QAAAC,KAAA,IAAAP,KAAA,wCACA,WAKAQ,KAAAC,iBAAA,QAAA,SAAAC,GACAA,EAAAsB,YAAoC5E,EAAAsC,OAAA,OAAA,EAAA,WACpC,IAAAuC,EAAAnB,EAAAG,EAAAiB,EAAA/G,EAAAgH,EAAAC,EACA,OAAA9D,EAAAjB,KAAA,SAAAgF,GACA,OAAAA,EAAAzD,OACA,KAAA,EAAA,OAAA,EAAAsC,OACAC,KAAAxB,EAAA1C,mBACAmB,KAAA,SAAAwC,GAAgD,OAAAA,EAAA0B,MAAA5B,EAAA6B,QAAAC,QAChD,KAAA,EAEA,OADAvB,EAAAoB,EAAAxD,SACA,EAAA,IACA,EAAAqC,OACAC,KAAAxB,EAAAzC,mBACAkB,KAAA,SAAAwC,GAAoD,OAAAA,EAAA0B,MAAA5B,EAAA6B,QAAAC,QACpD,KAAA,EACAvB,EAAAoB,EAAAxD,OACAwD,EAAAzD,MAAA,EACA,KAAA,EAEA,OADAkC,EAAAG,IACA,EAAA,IACA,EAAAC,OACAC,KAAAxB,EAAAxC,kBACAiB,KAAA,SAAAwC,GAAoD,OAAAA,EAAA0B,MAAA5B,EAAA6B,QAAAC,QACpD,KAAA,EACA1B,EAAAuB,EAAAxD,OACAwD,EAAAzD,MAAA,EACA,KAAA,EAGA,OAFAqD,EAAAnB,GACAoB,EAAAxB,EAAA6B,QAAAE,QAAA7G,IAAA,WAEA0E,QAAAC,KAAA,iBAAA2B,EAAA,MACA/G,EAAA+G,EAAAI,MAAA,sBAKAH,EAAAO,SAAAvH,EAAA,IACAmF,QAAAuB,IAAA,oBAAAnB,EAAA6B,QAAAC,IAAA,uBAAAL,GACAF,GAAA,EAAA,IACA3B,QAAAC,KAAA,sBAAAG,EAAA6B,QAAAC,MACA,EAAArC,MAAAO,EAAA6B,aANA,EAAApC,MAAAO,EAAA6B,YALA,EAAA,GAYA,KAAA,EAEA,OADAjC,QAAAC,KAAA,uBAAAG,EAAA6B,QAAAC,MACA,EAAAP,EAAAG,eACA,KAAA,EAEA,OADAA,EAAAC,EAAAxD,QACA,EAAA,IAAA8D,SAAAP,EAAAQ,MAAAT,IACAU,OAAA,IACAC,WAAA,kBACAL,UAGA,gBACA,SACAN,EACA,KACAC,EAAAW,WAAA,GACA,IACAX,EAAAW,gBAIA,KAAA,EACA,OAAAd,GACA3B,QAAAC,KAAA,iBAAAG,EAAA6B,QAAAC,MACA,EAAAP,KAGA3B,QAAAC,KAAA,gBAAAG,EAAA6B,QAAAC,MACA,EAAArC,MAAAO,EAAA6B\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 230);\\n\",\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nexports.DATA_DIR = 'data/';\\r\\nexports.INDEX_JSON = exports.DATA_DIR + 'index.json';\\r\\nexports.CACHE_NAME_ENGINE = 'spacerangers-engine';\\r\\nexports.CACHE_NAME_IMAGES = 'spacerangers-images';\\r\\nexports.CACHE_NAME_MUSIC = 'spacerangers-music';\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VpL2NvbnN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFhLFFBQUEsUUFBUSxHQUFHLE9BQU8sQ0FBQztBQUNuQixRQUFBLFVBQVUsR0FBRyxnQkFBUSxHQUFHLFlBQVksQ0FBQztBQUdyQyxRQUFBLGlCQUFpQixHQUFHLHFCQUFxQixDQUFDO0FBQzFDLFFBQUEsaUJBQWlCLEdBQUcscUJBQXFCLENBQUM7QUFDMUMsUUFBQSxnQkFBZ0IsR0FBRyxvQkFBb0IsQ0FBQyJ9\",\"\\\"use strict\\\";\\r\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\r\\n    return new (P || (P = Promise))(function (resolve, reject) {\\r\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\r\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\r\\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\\r\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\r\\n    });\\r\\n};\\r\\nvar __generator = (this && this.__generator) || function (thisArg, body) {\\r\\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\\r\\n    return g = { next: verb(0), \\\"throw\\\": verb(1), \\\"return\\\": verb(2) }, typeof Symbol === \\\"function\\\" && (g[Symbol.iterator] = function() { return this; }), g;\\r\\n    function verb(n) { return function (v) { return step([n, v]); }; }\\r\\n    function step(op) {\\r\\n        if (f) throw new TypeError(\\\"Generator is already executing.\\\");\\r\\n        while (_) try {\\r\\n            if (f = 1, y && (t = op[0] & 2 ? y[\\\"return\\\"] : op[0] ? y[\\\"throw\\\"] || ((t = y[\\\"return\\\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\\r\\n            if (y = 0, t) op = [op[0] & 2, t.value];\\r\\n            switch (op[0]) {\\r\\n                case 0: case 1: t = op; break;\\r\\n                case 4: _.label++; return { value: op[1], done: false };\\r\\n                case 5: _.label++; y = op[1]; op = [0]; continue;\\r\\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\\r\\n                default:\\r\\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\\r\\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\\r\\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\\r\\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\\r\\n                    if (t[2]) _.ops.pop();\\r\\n                    _.trys.pop(); continue;\\r\\n            }\\r\\n            op = body.call(thisArg, _);\\r\\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\\r\\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\\r\\n    }\\r\\n};\\r\\nvar _this = this;\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nrequire(\\\"./version.ts\\\");\\r\\nvar consts_1 = require(\\\"./consts\\\");\\r\\nvar engineUrls = [\\r\\n    \\\"/\\\",\\r\\n    consts_1.INDEX_JSON\\r\\n].concat(serviceWorkerOption.assets, [\\r\\n    \\\"/?version=\\\" + new Date(__VERSION__).getTime() // to enforce a reinstall after rebuild\\r\\n]);\\r\\nconsole.info('Service worker engine urls: ', engineUrls);\\r\\nfunction getIndex() {\\r\\n    return fetch(consts_1.INDEX_JSON).then(function (data) { return data.json(); });\\r\\n}\\r\\nself.addEventListener(\\\"install\\\", function (event) {\\r\\n    // Perform install steps\\r\\n    console.info(new Date() + \\\" Serviceworker got install event.\\\");\\r\\n    event.waitUntil((function () { return __awaiter(_this, void 0, void 0, function () {\\r\\n        var cache, data, _i, _a, dir, urlsToCache;\\r\\n        return __generator(this, function (_b) {\\r\\n            switch (_b.label) {\\r\\n                case 0: return [4 /*yield*/, caches.open(consts_1.CACHE_NAME_ENGINE)];\\r\\n                case 1:\\r\\n                    cache = _b.sent();\\r\\n                    console.info(new Date() + \\\" Serviceworker opened cache\\\");\\r\\n                    return [4 /*yield*/, getIndex()];\\r\\n                case 2:\\r\\n                    data = _b.sent();\\r\\n                    _i = 0, _a = [data.dir.quests];\\r\\n                    _b.label = 3;\\r\\n                case 3:\\r\\n                    if (!(_i < _a.length)) return [3 /*break*/, 6];\\r\\n                    dir = _a[_i];\\r\\n                    urlsToCache = engineUrls.concat.apply(engineUrls, dir.files\\r\\n                        .map(function (x) { return x.path; })\\r\\n                        // .slice(0, 3)\\r\\n                        .map(function (x) { return consts_1.DATA_DIR + x; }));\\r\\n                    console.info(new Date() + (\\\" Starting to fill cache size=\\\" + dir.totalSize));\\r\\n                    return [4 /*yield*/, cache.addAll(urlsToCache)];\\r\\n                case 4:\\r\\n                    _b.sent();\\r\\n                    _b.label = 5;\\r\\n                case 5:\\r\\n                    _i++;\\r\\n                    return [3 /*break*/, 3];\\r\\n                case 6:\\r\\n                    /*\\r\\n                    for (const url of urlsToCache) {\\r\\n                        console.info(new Date() + ` Caching ${url}`);\\r\\n                        await cache.add(url)\\r\\n                    };\\r\\n                    */\\r\\n                    console.info(new Date() + \\\" Catching done\\\");\\r\\n                    return [2 /*return*/];\\r\\n            }\\r\\n        });\\r\\n    }); })().catch(function (e) {\\r\\n        console.error(new Date() + \\\" Error in sw\\\", e);\\r\\n        throw e;\\r\\n    }));\\r\\n});\\r\\nself.addEventListener(\\\"activate\\\", function (event) {\\r\\n    console.log(new Date() + \\\" ServiceWorker activation started\\\");\\r\\n    event.waitUntil((function () { return __awaiter(_this, void 0, void 0, function () {\\r\\n        var cache, keys, index, _i, keys_1, key;\\r\\n        return __generator(this, function (_a) {\\r\\n            switch (_a.label) {\\r\\n                case 0: return [4 /*yield*/, caches.keys()];\\r\\n                case 1:\\r\\n                    (_a.sent()).map(function (x) {\\r\\n                        console.info(\\\"Have cache key:\\\", x);\\r\\n                    });\\r\\n                    return [4 /*yield*/, caches.open(consts_1.CACHE_NAME_ENGINE)];\\r\\n                case 2:\\r\\n                    cache = _a.sent();\\r\\n                    return [4 /*yield*/, cache.keys()];\\r\\n                case 3:\\r\\n                    keys = _a.sent();\\r\\n                    return [4 /*yield*/, getIndex()];\\r\\n                case 4:\\r\\n                    index = _a.sent();\\r\\n                    for (_i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\\r\\n                        key = keys_1[_i];\\r\\n                        // key is Request\\r\\n                        /*\\r\\n                        if (index.filesToCache.indexOf(key) < 0) {\\r\\n                            console.info(new Date() + ` No file ${key} in index, removing`);\\r\\n                            //cache.delete(key);\\r\\n                        }\\r\\n                        */\\r\\n                    }\\r\\n                    console.info(new Date() + \\\" Service worker activation finished\\\");\\r\\n                    return [2 /*return*/];\\r\\n            }\\r\\n        });\\r\\n    }); })());\\r\\n});\\r\\nself.addEventListener(\\\"fetch\\\", function (event) {\\r\\n    event.respondWith((function () { return __awaiter(_this, void 0, void 0, function () {\\r\\n        var cacheHit, _a, _b, headersRange, m, pos, arrayBuffer;\\r\\n        return __generator(this, function (_c) {\\r\\n            switch (_c.label) {\\r\\n                case 0: return [4 /*yield*/, caches\\r\\n                        .open(consts_1.CACHE_NAME_ENGINE)\\r\\n                        .then(function (cache) { return cache.match(event.request.url); })];\\r\\n                case 1:\\r\\n                    _b = (_c.sent());\\r\\n                    if (_b) return [3 /*break*/, 3];\\r\\n                    return [4 /*yield*/, caches\\r\\n                            .open(consts_1.CACHE_NAME_IMAGES)\\r\\n                            .then(function (cache) { return cache.match(event.request.url); })];\\r\\n                case 2:\\r\\n                    _b = (_c.sent());\\r\\n                    _c.label = 3;\\r\\n                case 3:\\r\\n                    _a = _b;\\r\\n                    if (_a) return [3 /*break*/, 5];\\r\\n                    return [4 /*yield*/, caches\\r\\n                            .open(consts_1.CACHE_NAME_MUSIC)\\r\\n                            .then(function (cache) { return cache.match(event.request.url); })];\\r\\n                case 4:\\r\\n                    _a = (_c.sent());\\r\\n                    _c.label = 5;\\r\\n                case 5:\\r\\n                    cacheHit = _a;\\r\\n                    headersRange = event.request.headers.get(\\\"range\\\");\\r\\n                    if (!headersRange) return [3 /*break*/, 8];\\r\\n                    console.info(\\\"headersRange='\\\" + headersRange + \\\"'\\\");\\r\\n                    m = headersRange.match(/^bytes\\\\=(\\\\d+)\\\\-$/);\\r\\n                    if (!m) {\\r\\n                        // ????\\r\\n                        return [2 /*return*/, fetch(event.request)];\\r\\n                    }\\r\\n                    pos = parseInt(m[1]);\\r\\n                    console.log(\\\"Range request for\\\", event.request.url, \\\", starting position:\\\", pos);\\r\\n                    if (!!cacheHit) return [3 /*break*/, 6];\\r\\n                    console.info(\\\"No audio cache for \\\" + event.request.url);\\r\\n                    return [2 /*return*/, fetch(event.request)];\\r\\n                case 6:\\r\\n                    console.info(\\\"Cache audio hit for \\\" + event.request.url);\\r\\n                    return [4 /*yield*/, cacheHit.arrayBuffer()];\\r\\n                case 7:\\r\\n                    arrayBuffer = _c.sent();\\r\\n                    return [2 /*return*/, new Response(arrayBuffer.slice(pos), {\\r\\n                            status: 206,\\r\\n                            statusText: \\\"Partial Content\\\",\\r\\n                            headers: [\\r\\n                                // ['Content-Type', 'video/webm'],\\r\\n                                [\\r\\n                                    \\\"Content-Range\\\",\\r\\n                                    \\\"bytes \\\" +\\r\\n                                        pos +\\r\\n                                        \\\"-\\\" +\\r\\n                                        (arrayBuffer.byteLength - 1) +\\r\\n                                        \\\"/\\\" +\\r\\n                                        arrayBuffer.byteLength\\r\\n                                ]\\r\\n                            ]\\r\\n                        })];\\r\\n                case 8:\\r\\n                    if (cacheHit) {\\r\\n                        console.info(\\\"Cache hit for \\\" + event.request.url);\\r\\n                        return [2 /*return*/, cacheHit];\\r\\n                    }\\r\\n                    else {\\r\\n                        console.info(\\\"No cache for \\\" + event.request.url);\\r\\n                        return [2 /*return*/, fetch(event.request)];\\r\\n                    }\\r\\n                    return [2 /*return*/];\\r\\n            }\\r\\n        });\\r\\n    }); })());\\r\\n});\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmljZVdvcmtlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91aS9zZXJ2aWNlV29ya2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlCQTZKQTs7QUF4SkEsd0JBQXNCO0FBTXRCLG1DQU1rQjtBQUdsQixJQUFNLFVBQVU7SUFDWixHQUFHO0lBQ0gsbUJBQVU7U0FDUCxtQkFBbUIsQ0FBQyxNQUFNO0lBQzdCLGVBQWEsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFJLENBQUMsdUNBQXVDO0VBQ3pGLENBQUM7QUFDRixPQUFPLENBQUMsSUFBSSxDQUFDLDhCQUE4QixFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBRXpEO0lBQ0ksT0FBTyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBWCxDQUFXLENBQW1CLENBQUM7QUFDekUsQ0FBQztBQUVELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsVUFBQSxLQUFLO0lBQ2xDLHdCQUF3QjtJQUN4QixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLEdBQUcsbUNBQW1DLENBQUMsQ0FBQztJQUMvRCxLQUFLLENBQUMsU0FBUyxDQUNYLENBQUM7Ozs7d0JBQ2lCLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsMEJBQWlCLENBQUMsRUFBQTs7b0JBQTVDLEtBQUssR0FBRyxTQUFvQztvQkFDbEQsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxHQUFHLDZCQUE2QixDQUFDLENBQUM7b0JBQzVDLHFCQUFNLFFBQVEsRUFBRSxFQUFBOztvQkFBdkIsSUFBSSxHQUFHLFNBQWdCOzBCQUVNLEVBQWpCLE1BQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7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\"]}","code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=230)}({13:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DATA_DIR=\"data/\",t.INDEX_JSON=t.DATA_DIR+\"index.json\",t.CACHE_NAME_ENGINE=\"spacerangers-engine\",t.CACHE_NAME_IMAGES=\"spacerangers-images\",t.CACHE_NAME_MUSIC=\"spacerangers-music\"},230:function(e,t,n){\"use strict\";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,c){function a(e){try{i(r.next(e))}catch(e){c(e)}}function s(e){try{i(r.throw(e))}catch(e){c(e)}}function i(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}i((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,c,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(c){return function(s){return function(c){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},c=this;Object.defineProperty(t,\"__esModule\",{value:!0}),n(231);var a=n(13),s=[\"/\",a.INDEX_JSON].concat(serviceWorkerOption.assets,[\"/?version=\"+new Date(\"2018-07-31T19:42:33.531Z\").getTime()]);function i(){return fetch(a.INDEX_JSON).then(function(e){return e.json()})}console.info(\"Service worker engine urls: \",s),self.addEventListener(\"install\",function(e){console.info(new Date+\" Serviceworker got install event.\"),e.waitUntil(r(c,void 0,void 0,function(){var e,t,n,r,c,u;return o(this,function(o){switch(o.label){case 0:return[4,caches.open(a.CACHE_NAME_ENGINE)];case 1:return e=o.sent(),console.info(new Date+\" Serviceworker opened cache\"),[4,i()];case 2:t=o.sent(),n=0,r=[t.dir.quests],o.label=3;case 3:return n<r.length?(c=r[n],u=s.concat.apply(s,c.files.map(function(e){return e.path}).map(function(e){return a.DATA_DIR+e})),console.info(new Date+\" Starting to fill cache size=\"+c.totalSize),[4,e.addAll(u)]):[3,6];case 4:o.sent(),o.label=5;case 5:return n++,[3,3];case 6:return console.info(new Date+\" Catching done\"),[2]}})}).catch(function(e){throw console.error(new Date+\" Error in sw\",e),e}))}),self.addEventListener(\"activate\",function(e){console.log(new Date+\" ServiceWorker activation started\"),e.waitUntil(r(c,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return[4,caches.keys()];case 1:return r.sent().map(function(e){console.info(\"Have cache key:\",e)}),[4,caches.open(a.CACHE_NAME_ENGINE)];case 2:return[4,r.sent().keys()];case 3:return e=r.sent(),[4,i()];case 4:for(r.sent(),t=0,n=e;t<n.length;t++)n[t];return console.info(new Date+\" Service worker activation finished\"),[2]}})}))}),self.addEventListener(\"fetch\",function(e){e.respondWith(r(c,void 0,void 0,function(){var t,n,r,c,s,i,u;return o(this,function(o){switch(o.label){case 0:return[4,caches.open(a.CACHE_NAME_ENGINE).then(function(t){return t.match(e.request.url)})];case 1:return(r=o.sent())?[3,3]:[4,caches.open(a.CACHE_NAME_IMAGES).then(function(t){return t.match(e.request.url)})];case 2:r=o.sent(),o.label=3;case 3:return(n=r)?[3,5]:[4,caches.open(a.CACHE_NAME_MUSIC).then(function(t){return t.match(e.request.url)})];case 4:n=o.sent(),o.label=5;case 5:return t=n,(c=e.request.headers.get(\"range\"))?(console.info(\"headersRange='\"+c+\"'\"),(s=c.match(/^bytes\\=(\\d+)\\-$/))?(i=parseInt(s[1]),console.log(\"Range request for\",e.request.url,\", starting position:\",i),t?[3,6]:(console.info(\"No audio cache for \"+e.request.url),[2,fetch(e.request)])):[2,fetch(e.request)]):[3,8];case 6:return console.info(\"Cache audio hit for \"+e.request.url),[4,t.arrayBuffer()];case 7:return u=o.sent(),[2,new Response(u.slice(i),{status:206,statusText:\"Partial Content\",headers:[[\"Content-Range\",\"bytes \"+i+\"-\"+(u.byteLength-1)+\"/\"+u.byteLength]]})];case 8:return t?(console.info(\"Cache hit for \"+e.request.url),[2,t]):(console.info(\"No cache for \"+e.request.url),[2,fetch(e.request)])}})}))})},231:function(e,t,n){\"use strict\"}});","extractedComments":[]}