{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\node_modules\\\\ts-loader\\\\index.js!C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\node_modules\\\\source-map-loader\\\\index.js!C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\src\\\\ui\\\\consts.ts\",\"C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\node_modules\\\\ts-loader\\\\index.js!C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\node_modules\\\\source-map-loader\\\\index.js!C:\\\\Users\\\\vasilii\\\\Documents\\\\space-rangers-quest\\\\src\\\\ui\\\\serviceWorker.ts\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"DATA_DIR\",\"INDEX_JSON\",\"CACHE_NAME_ENGINE\",\"CACHE_NAME_IMAGES\",\"CACHE_NAME_MUSIC\",\"__awaiter\",\"this\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"Promise\",\"resolve\",\"reject\",\"fulfilled\",\"step\",\"next\",\"e\",\"rejected\",\"result\",\"done\",\"then\",\"apply\",\"__generator\",\"body\",\"f\",\"y\",\"g\",\"_\",\"label\",\"sent\",\"trys\",\"ops\",\"verb\",\"throw\",\"return\",\"iterator\",\"v\",\"op\",\"TypeError\",\"pop\",\"length\",\"push\",\"_this\",\"serviceWorkerOption\",\"assets\",\"consts_1\",\"engineUrls\",\"concat\",\"Date\",\"getTime\",\"getIndex\",\"fetch\",\"data\",\"json\",\"self\",\"addEventListener\",\"event\",\"console\",\"info\",\"waitUntil\",\"cache\",\"_i\",\"_a\",\"dir\",\"urlsToCache\",\"_b\",\"caches\",\"open\",\"quests\",\"files\",\"map\",\"x\",\"path\",\"totalSize\",\"addAll\",\"catch\",\"error\",\"log\",\"keys\",\"keys_1\",\"respondWith\",\"cacheHit\",\"headersRange\",\"pos\",\"arrayBuffer\",\"_c\",\"match\",\"request\",\"url\",\"headers\",\"parseInt\",\"Response\",\"slice\",\"status\",\"statusText\",\"byteLength\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 229);\\n\",\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nexports.DATA_DIR = 'data/';\\r\\nexports.INDEX_JSON = exports.DATA_DIR + 'index.json';\\r\\nexports.CACHE_NAME_ENGINE = 'spacerangers-engine';\\r\\nexports.CACHE_NAME_IMAGES = 'spacerangers-images';\\r\\nexports.CACHE_NAME_MUSIC = 'spacerangers-music';\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VpL2NvbnN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFhLFFBQUEsUUFBUSxHQUFHLE9BQU8sQ0FBQztBQUNuQixRQUFBLFVBQVUsR0FBRyxnQkFBUSxHQUFHLFlBQVksQ0FBQztBQUdyQyxRQUFBLGlCQUFpQixHQUFHLHFCQUFxQixDQUFDO0FBQzFDLFFBQUEsaUJBQWlCLEdBQUcscUJBQXFCLENBQUM7QUFDMUMsUUFBQSxnQkFBZ0IsR0FBRyxvQkFBb0IsQ0FBQyJ9\",\"\\\"use strict\\\";\\r\\n/// <reference path='../../node_modules/typescript/lib/lib.es6.d.ts' />\\r\\n/// <reference path='../../node_modules/typescript/lib/lib.webworker.d.ts' />\\r\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\r\\n    return new (P || (P = Promise))(function (resolve, reject) {\\r\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\r\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\r\\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\\r\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\r\\n    });\\r\\n};\\r\\nvar __generator = (this && this.__generator) || function (thisArg, body) {\\r\\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\\r\\n    return g = { next: verb(0), \\\"throw\\\": verb(1), \\\"return\\\": verb(2) }, typeof Symbol === \\\"function\\\" && (g[Symbol.iterator] = function() { return this; }), g;\\r\\n    function verb(n) { return function (v) { return step([n, v]); }; }\\r\\n    function step(op) {\\r\\n        if (f) throw new TypeError(\\\"Generator is already executing.\\\");\\r\\n        while (_) try {\\r\\n            if (f = 1, y && (t = op[0] & 2 ? y[\\\"return\\\"] : op[0] ? y[\\\"throw\\\"] || ((t = y[\\\"return\\\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\\r\\n            if (y = 0, t) op = [op[0] & 2, t.value];\\r\\n            switch (op[0]) {\\r\\n                case 0: case 1: t = op; break;\\r\\n                case 4: _.label++; return { value: op[1], done: false };\\r\\n                case 5: _.label++; y = op[1]; op = [0]; continue;\\r\\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\\r\\n                default:\\r\\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\\r\\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\\r\\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\\r\\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\\r\\n                    if (t[2]) _.ops.pop();\\r\\n                    _.trys.pop(); continue;\\r\\n            }\\r\\n            op = body.call(thisArg, _);\\r\\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\\r\\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\\r\\n    }\\r\\n};\\r\\nvar _this = this;\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nrequire(\\\"./version.ts\\\");\\r\\nvar assets = serviceWorkerOption.assets;\\r\\nvar consts_1 = require(\\\"./consts\\\");\\r\\nvar engineUrls = [\\r\\n    \\\"/\\\",\\r\\n    consts_1.INDEX_JSON\\r\\n].concat(serviceWorkerOption.assets, [\\r\\n    \\\"/?version=\\\" + new Date(__VERSION__).getTime() // to enforce a reinstall after rebuild\\r\\n]);\\r\\nfunction getIndex() {\\r\\n    return fetch(consts_1.INDEX_JSON).then(function (data) { return data.json(); });\\r\\n}\\r\\nself.addEventListener(\\\"install\\\", function (event) {\\r\\n    // Perform install steps\\r\\n    console.info(new Date() + \\\" Serviceworker got install event.\\\");\\r\\n    event.waitUntil((function () { return __awaiter(_this, void 0, void 0, function () {\\r\\n        var cache, data, _i, _a, dir, urlsToCache;\\r\\n        return __generator(this, function (_b) {\\r\\n            switch (_b.label) {\\r\\n                case 0: return [4 /*yield*/, caches.open(consts_1.CACHE_NAME_ENGINE)];\\r\\n                case 1:\\r\\n                    cache = _b.sent();\\r\\n                    console.info(new Date() + \\\" Serviceworker opened cache\\\");\\r\\n                    return [4 /*yield*/, getIndex()];\\r\\n                case 2:\\r\\n                    data = _b.sent();\\r\\n                    _i = 0, _a = [data.dir.quests];\\r\\n                    _b.label = 3;\\r\\n                case 3:\\r\\n                    if (!(_i < _a.length)) return [3 /*break*/, 6];\\r\\n                    dir = _a[_i];\\r\\n                    urlsToCache = engineUrls.concat.apply(engineUrls, dir.files\\r\\n                        .map(function (x) { return x.path; })\\r\\n                        // .slice(0, 3)\\r\\n                        .map(function (x) { return consts_1.DATA_DIR + x; }));\\r\\n                    console.info(new Date() + (\\\" Starting to fill cache size=\\\" + dir.totalSize));\\r\\n                    return [4 /*yield*/, cache.addAll(urlsToCache)];\\r\\n                case 4:\\r\\n                    _b.sent();\\r\\n                    _b.label = 5;\\r\\n                case 5:\\r\\n                    _i++;\\r\\n                    return [3 /*break*/, 3];\\r\\n                case 6:\\r\\n                    /*\\r\\n                    for (const url of urlsToCache) {\\r\\n                        console.info(new Date() + ` Caching ${url}`);\\r\\n                        await cache.add(url)\\r\\n                    };\\r\\n                    */\\r\\n                    console.info(new Date() + \\\" Catching done\\\");\\r\\n                    return [2 /*return*/];\\r\\n            }\\r\\n        });\\r\\n    }); })().catch(function (e) {\\r\\n        console.error(new Date() + \\\" Error in sw\\\", e);\\r\\n        throw e;\\r\\n    }));\\r\\n});\\r\\nself.addEventListener(\\\"activate\\\", function (event) {\\r\\n    console.log(new Date() + \\\" ServiceWorker activation started\\\");\\r\\n    event.waitUntil((function () { return __awaiter(_this, void 0, void 0, function () {\\r\\n        var cache, keys, index, _i, keys_1, key;\\r\\n        return __generator(this, function (_a) {\\r\\n            switch (_a.label) {\\r\\n                case 0: return [4 /*yield*/, caches.keys()];\\r\\n                case 1:\\r\\n                    (_a.sent()).map(function (x) {\\r\\n                        console.info(\\\"Have cache key:\\\", x);\\r\\n                    });\\r\\n                    return [4 /*yield*/, caches.open(consts_1.CACHE_NAME_ENGINE)];\\r\\n                case 2:\\r\\n                    cache = _a.sent();\\r\\n                    return [4 /*yield*/, cache.keys()];\\r\\n                case 3:\\r\\n                    keys = _a.sent();\\r\\n                    return [4 /*yield*/, getIndex()];\\r\\n                case 4:\\r\\n                    index = _a.sent();\\r\\n                    for (_i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\\r\\n                        key = keys_1[_i];\\r\\n                        // key is Request\\r\\n                        /*\\r\\n                        if (index.filesToCache.indexOf(key) < 0) {\\r\\n                            console.info(new Date() + ` No file ${key} in index, removing`);\\r\\n                            //cache.delete(key);\\r\\n                        }\\r\\n                        */\\r\\n                    }\\r\\n                    console.info(new Date() + \\\" Service worker activation finished\\\");\\r\\n                    return [2 /*return*/];\\r\\n            }\\r\\n        });\\r\\n    }); })());\\r\\n});\\r\\nself.addEventListener(\\\"fetch\\\", function (event) {\\r\\n    event.respondWith((function () { return __awaiter(_this, void 0, void 0, function () {\\r\\n        var cacheHit, _a, _b, headersRange, m, pos, arrayBuffer;\\r\\n        return __generator(this, function (_c) {\\r\\n            switch (_c.label) {\\r\\n                case 0: return [4 /*yield*/, caches\\r\\n                        .open(consts_1.CACHE_NAME_ENGINE)\\r\\n                        .then(function (cache) { return cache.match(event.request.url); })];\\r\\n                case 1:\\r\\n                    _b = (_c.sent());\\r\\n                    if (_b) return [3 /*break*/, 3];\\r\\n                    return [4 /*yield*/, caches\\r\\n                            .open(consts_1.CACHE_NAME_IMAGES)\\r\\n                            .then(function (cache) { return cache.match(event.request.url); })];\\r\\n                case 2:\\r\\n                    _b = (_c.sent());\\r\\n                    _c.label = 3;\\r\\n                case 3:\\r\\n                    _a = _b;\\r\\n                    if (_a) return [3 /*break*/, 5];\\r\\n                    return [4 /*yield*/, caches\\r\\n                            .open(consts_1.CACHE_NAME_MUSIC)\\r\\n                            .then(function (cache) { return cache.match(event.request.url); })];\\r\\n                case 4:\\r\\n                    _a = (_c.sent());\\r\\n                    _c.label = 5;\\r\\n                case 5:\\r\\n                    cacheHit = _a;\\r\\n                    headersRange = event.request.headers.get(\\\"range\\\");\\r\\n                    if (!headersRange) return [3 /*break*/, 8];\\r\\n                    console.info(\\\"headersRange='\\\" + headersRange + \\\"'\\\");\\r\\n                    m = headersRange.match(/^bytes\\\\=(\\\\d+)\\\\-$/);\\r\\n                    if (!m) {\\r\\n                        // ????\\r\\n                        return [2 /*return*/, fetch(event.request)];\\r\\n                    }\\r\\n                    pos = parseInt(m[1]);\\r\\n                    console.log(\\\"Range request for\\\", event.request.url, \\\", starting position:\\\", pos);\\r\\n                    if (!!cacheHit) return [3 /*break*/, 6];\\r\\n                    console.info(\\\"No audio cache for \\\" + event.request.url);\\r\\n                    return [2 /*return*/, fetch(event.request)];\\r\\n                case 6:\\r\\n                    console.info(\\\"Cache audio hit for \\\" + event.request.url);\\r\\n                    return [4 /*yield*/, cacheHit.arrayBuffer()];\\r\\n                case 7:\\r\\n                    arrayBuffer = _c.sent();\\r\\n                    return [2 /*return*/, new Response(arrayBuffer.slice(pos), {\\r\\n                            status: 206,\\r\\n                            statusText: \\\"Partial Content\\\",\\r\\n                            headers: [\\r\\n                                // ['Content-Type', 'video/webm'],\\r\\n                                [\\r\\n                                    \\\"Content-Range\\\",\\r\\n                                    \\\"bytes \\\" +\\r\\n                                        pos +\\r\\n                                        \\\"-\\\" +\\r\\n                                        (arrayBuffer.byteLength - 1) +\\r\\n                                        \\\"/\\\" +\\r\\n                                        arrayBuffer.byteLength\\r\\n                                ]\\r\\n                            ]\\r\\n                        })];\\r\\n                case 8:\\r\\n                    if (cacheHit) {\\r\\n                        console.info(\\\"Cache hit for \\\" + event.request.url);\\r\\n                        return [2 /*return*/, cacheHit];\\r\\n                    }\\r\\n                    else {\\r\\n                        console.info(\\\"No cache for \\\" + event.request.url);\\r\\n                        return [2 /*return*/, fetch(event.request)];\\r\\n                    }\\r\\n                    return [2 /*return*/];\\r\\n            }\\r\\n        });\\r\\n    }); })());\\r\\n});\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmljZVdvcmtlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91aS9zZXJ2aWNlV29ya2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx1RUFBdUU7QUFDdkUsNkVBQTZFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFN0UsaUJBNEpBOztBQTFKQSx3QkFBc0I7QUFLZCxJQUFBLG1DQUFNLENBQXlCO0FBRXZDLG1DQU1rQjtBQUdsQixJQUFNLFVBQVU7SUFDWixHQUFHO0lBQ0gsbUJBQVU7U0FDUCxtQkFBbUIsQ0FBQyxNQUFNO0lBQzdCLGVBQWEsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFJLENBQUMsdUNBQXVDO0VBQ3pGLENBQUM7QUFFRjtJQUNJLE9BQU8sS0FBSyxDQUFDLG1CQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQVgsQ0FBVyxDQUFtQixDQUFDO0FBQ3pFLENBQUM7QUFJRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLFVBQUEsS0FBSztJQUNsQyx3QkFBd0I7SUFDeEIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxHQUFHLG1DQUFtQyxDQUFDLENBQUM7SUFDL0QsS0FBSyxDQUFDLFNBQVMsQ0FDWCxDQUFDOzs7O3dCQUNpQixxQkFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLDBCQUFpQixDQUFDLEVBQUE7O29CQUE1QyxLQUFLLEdBQUcsU0FBb0M7b0JBQ2xELE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsR0FBRyw2QkFBNkIsQ0FBQyxDQUFDO29CQUM1QyxxQkFBTSxRQUFRLEVBQUUsRUFBQTs7b0JBQXZCLElBQUksR0FBRyxTQUFnQjswQkFFTSxFQUFqQixNQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDOzs7eUJB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\"]}","code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=229)}({13:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DATA_DIR=\"data/\",t.INDEX_JSON=t.DATA_DIR+\"index.json\",t.CACHE_NAME_ENGINE=\"spacerangers-engine\",t.CACHE_NAME_IMAGES=\"spacerangers-images\",t.CACHE_NAME_MUSIC=\"spacerangers-music\"},229:function(e,t,n){\"use strict\";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function c(e){try{i(r.next(e))}catch(e){a(e)}}function s(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(c,s)}i((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this;Object.defineProperty(t,\"__esModule\",{value:!0}),n(230);serviceWorkerOption.assets;var c=n(13),s=[\"/\",c.INDEX_JSON].concat(serviceWorkerOption.assets,[\"/?version=\"+new Date(\"2018-07-31T12:50:31.033Z\").getTime()]);function i(){return fetch(c.INDEX_JSON).then(function(e){return e.json()})}self.addEventListener(\"install\",function(e){console.info(new Date+\" Serviceworker got install event.\"),e.waitUntil(r(a,void 0,void 0,function(){var e,t,n,r,a,u;return o(this,function(o){switch(o.label){case 0:return[4,caches.open(c.CACHE_NAME_ENGINE)];case 1:return e=o.sent(),console.info(new Date+\" Serviceworker opened cache\"),[4,i()];case 2:t=o.sent(),n=0,r=[t.dir.quests],o.label=3;case 3:return n<r.length?(a=r[n],u=s.concat.apply(s,a.files.map(function(e){return e.path}).map(function(e){return c.DATA_DIR+e})),console.info(new Date+\" Starting to fill cache size=\"+a.totalSize),[4,e.addAll(u)]):[3,6];case 4:o.sent(),o.label=5;case 5:return n++,[3,3];case 6:return console.info(new Date+\" Catching done\"),[2]}})}).catch(function(e){throw console.error(new Date+\" Error in sw\",e),e}))}),self.addEventListener(\"activate\",function(e){console.log(new Date+\" ServiceWorker activation started\"),e.waitUntil(r(a,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return[4,caches.keys()];case 1:return r.sent().map(function(e){console.info(\"Have cache key:\",e)}),[4,caches.open(c.CACHE_NAME_ENGINE)];case 2:return[4,r.sent().keys()];case 3:return e=r.sent(),[4,i()];case 4:for(r.sent(),t=0,n=e;t<n.length;t++)n[t];return console.info(new Date+\" Service worker activation finished\"),[2]}})}))}),self.addEventListener(\"fetch\",function(e){e.respondWith(r(a,void 0,void 0,function(){var t,n,r,a,s,i,u;return o(this,function(o){switch(o.label){case 0:return[4,caches.open(c.CACHE_NAME_ENGINE).then(function(t){return t.match(e.request.url)})];case 1:return(r=o.sent())?[3,3]:[4,caches.open(c.CACHE_NAME_IMAGES).then(function(t){return t.match(e.request.url)})];case 2:r=o.sent(),o.label=3;case 3:return(n=r)?[3,5]:[4,caches.open(c.CACHE_NAME_MUSIC).then(function(t){return t.match(e.request.url)})];case 4:n=o.sent(),o.label=5;case 5:return t=n,(a=e.request.headers.get(\"range\"))?(console.info(\"headersRange='\"+a+\"'\"),(s=a.match(/^bytes\\=(\\d+)\\-$/))?(i=parseInt(s[1]),console.log(\"Range request for\",e.request.url,\", starting position:\",i),t?[3,6]:(console.info(\"No audio cache for \"+e.request.url),[2,fetch(e.request)])):[2,fetch(e.request)]):[3,8];case 6:return console.info(\"Cache audio hit for \"+e.request.url),[4,t.arrayBuffer()];case 7:return u=o.sent(),[2,new Response(u.slice(i),{status:206,statusText:\"Partial Content\",headers:[[\"Content-Range\",\"bytes \"+i+\"-\"+(u.byteLength-1)+\"/\"+u.byteLength]]})];case 8:return t?(console.info(\"Cache hit for \"+e.request.url),[2,t]):(console.info(\"No cache for \"+e.request.url),[2,fetch(e.request)])}})}))})},230:function(e,t,n){\"use strict\"}});","extractedComments":[]}